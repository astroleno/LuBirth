PRD：出生纪念 · 地月合影场景

文档版本: V1.0
创建日期: 2025-08-29
功能负责人: [您的名字]
目标上线日期: TBD

1. 背景与目标

用户渴望用更具仪式感和沉浸感的方式纪念自己的出生时刻。传统的月相图过于平面化，缺乏叙事与沉浸。本功能通过 3D 渲染和天文计算，为用户生成一段从“出生地上空 → 升空 → 地月合影”的动画，并最终定格为可保存/分享的纪念图。

目标价值：

提升产品的情感体验与仪式感。

强化社交分享属性，驱动自然传播。

建立“技术+艺术”的差异化壁垒。

2. 用户故事

核心故事：作为用户，我希望看到我出生那一刻的地球与月亮同框的画面，从而感受到自己与宇宙的独特连接。

分享故事：作为用户，我希望能保存这张“地月合影”并分享，让朋友和家人一同见证我的纪念时刻。

3. 分阶段范围
V1 轻量版（快速上线）

重点：保证天文真实性 + 基础沉浸体验

输入：出生日期/时间/地点。

天文计算：太阳方向、月球位置、月相、地球自转角度（Skyfield / Astronomy Engine）。

渲染：

地球球体：昼夜贴图（Blue Marble），简单晨昏线。

月球球体：灰度贴图，光照生成盈亏。

星空背景：静态全景贴图。

镜头动画：

起点：出生地上空 400–600km，俯瞰。

上升：拉远，月球进入视野。

定格：地球下弧线 + 完整月球同框。

交互：

“生成纪念”按钮。

“保存合影”导出 PNG 截图。

V2 完整版（沉浸增强）

重点：叙事性 + 美学打磨 + 社交传播

额外渲染：

地球夜间灯光贴图。

云层贴图 + 缓慢旋转。

大气层辉光。

月球表面凹凸贴图（法线/凹凸映射）。

动画增强：

镜头路径平滑曲线（缓入缓出）。

停留 5 秒，用户欣赏 → 截图。

（可选）用户手动环绕相机，自由拖拽。

输出扩展：

导出短视频（10–15 秒）。

社交分享卡片/海报生成。

文化叠加（可选）：

二十八宿/星座标注。

“出生地标点”随镜头升起时带光效。

4. 功能需求 (Functional Requirements)

FR1：输入模块

日期选择器、时间选择器（24h）、地点输入（支持模糊搜索 → 经纬度解析）。

FR2：天文计算模块

使用 Skyfield 或 Astronomy Engine，计算：

太阳方向向量。

月球位置坐标。

月相照明比例。

出生地自转角度。

FR3：3D 场景渲染

Three.js（WebGL）。

地球贴图（Blue Marble），月球贴图（NASA/USGS）。

光照：太阳位置作为主光源。

FR4：镜头路径

阶段一（0–3秒）：出生地上空近地轨道，俯瞰。

阶段二（3–10秒）：平滑拉升，月球进入画面。

阶段三（10–15秒）：定格，地球下弧线 + 月球完整。

FR5：交互与输出

“生成我的合影” → 动画生成。

“保存合影” → PNG 导出。

（V2）“分享” → 社交卡片或视频。

5. 技术实现建议

前端：Three.js。

后端：Skyfield（Python）或 Astronomy Engine（JS 版）。

贴图资源：NASA Blue Marble、NASA Night Lights、LRO 月球贴图。

优化：压缩贴图；低端设备降级（关闭云层/辉光）。

6. 验收标准 (Acceptance Criteria)

输入时间地点正确映射到天文场景。

出生地 marker 出现在起始画面中心。

月相与天文计算结果一致。

动画 10–15 秒，路径平滑。

最终画面构图符合“地球弧线下方 + 月球完整上方”。

导出的截图干净、无 UI 干扰。

跨浏览器测试通过（Chrome/Safari/Firefox）。

7. 迭代节奏建议

V1（2–4 周）：基本地球+月球渲染，动画路径，截图功能。

V2（4–8 周）：增强视觉效果（云层、辉光）、导出视频、社交分享功能。

V3（长期）：叠加文化层（28宿/星座）、用户可交互探索全景星空。
V3（长期）：叠加文化层（28宿/星座）、用户可交互探索全景星空。