chunk-RC3YDMAO.js?v=d905a87e:21551 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
main.tsx:10 [Main] React root created
main.tsx:12 [Main] App render called
SimpleTest.tsx:432 [EarthRotation] 初始化计算: UTC时间 12:44, 自转角度: 191.0°
SimpleTest.tsx:740 [LightInfo] Raw sunWorld: {x: 1, y: 0, z: 0}
SimpleTest.tsx:741 [LightInfo] Real sun angles from ephemeris: {azimuth: '0.0', altitude: '0.0'}
content.js:1286 [AeScape] 准备初始化悬浮球
content.js:33 [AeScape] 悬浮球系统初始化开始
content.js:146 [AeScape] URL检查: http://localhost:5173/, 应排除: false
content.js:1328 [AeScape] 内容脚本已加载
ephemeris.ts:449 [toUTCFromLocal] 2025-09-11T20:44 (lon:121.5) -> UTC: 2025-09-11T12:44:00.000Z (offset: 8h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:44 对应本地时间20:44
constants.ts:50 ✅ 天文常数验证通过
ephemeris.ts:449 [toUTCFromLocal] 2025-09-11T20:44 (lon:121.5) -> UTC: 2025-09-11T12:44:00.000Z (offset: 8h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:44 对应本地时间20:44
SimpleTest.tsx:471 [EarthRotation] 用户时间: 2025-09-11T20:44, 经度: 121.5°, 时区偏移: 8.1h, UTC时间: 12:38, 自转角度: 189.5°
App.tsx:7 [App] mounted - using SimpleTest scene
SimpleTest.tsx:740 [LightInfo] Raw sunWorld: {x: 0.9765435237311573, y: 0.08040857390530866, z: -0.19974285344224313}
SimpleTest.tsx:741 [LightInfo] Real sun angles from ephemeris: {azimuth: '300.1', altitude: '-32.7'}
content.js:157 [AeScape] 用户设置检查: false
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
ephemeris.ts:449 [toUTCFromLocal] 2025-09-11T20:44 (lon:121.5) -> UTC: 2025-09-11T12:44:00.000Z (offset: 8h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:44 对应本地时间20:44
moonPhase.ts:67 [getMoonPhase] 固定月球系统月相计算: {localISO: '2025-09-11T20:44', utc: '2025-09-11T12:44:00.000Z', elongationDeg: '128.8', sunLon_deg: '169.6', moonLon_deg: '36.0', …}
Moon.tsx:196 [Moon Phase] 固定月球系统计算: {currentDate: '2025-09-11T20:44', observerLat: 31.2, observerLon: 121.5, gamma_deg: '128.8°', renderSunDirection: Array(3), …}
Moon.tsx:259 [Moon Phase] 真实向量太阳方向计算完成: {currentDate: '2025-09-11T20:44', observerLat: 31.2, observerLon: 121.5, sunDirection: Array(3), positionAngle: '46.4°', …}
Moon.tsx:279 === 真实向量太阳方向信息 ===
Moon.tsx:280 太阳方向: (3) ['-0.724', '0.000', '0.690']
Moon.tsx:281 位置角: 46.4°
Moon.tsx:282 光照侧（基于真实向量）: 左侧（下弦）
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_daymap.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(3), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_nightmap.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_normal_map.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_specular_map.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: false, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_moon.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/2k_moon_normal.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(1), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/2k_moon_displacement.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: false, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '❌', earthNight: '❌', earthNormal: '❌', earthSpecular: '❌', earthClouds: '❌', …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_daymap.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(3), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_nightmap.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_normal_map.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_specular_map.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: false, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_moon.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/2k_moon_normal.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(1), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/2k_moon_displacement.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: false, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '❌', earthNight: '❌', earthNormal: '❌', earthSpecular: '❌', earthClouds: '❌', …}
positionUtils.ts:65 [CameraApply] {azDeg: 0, elDeg: 0, radius: 15, position: Array(3), lookAt: Array(3)}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_daymap.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(3), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_nightmap.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_normal_map.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_specular_map.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_earth_clouds.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_moon.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/2k_moon_normal.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(1), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/2k_moon_displacement.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:86 [TextureLoader] 尝试加载纹理: /textures/8k_stars_milky_way.jpg
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '❌', earthNight: '❌', earthNormal: '❌', earthSpecular: '❌', earthClouds: '❌', …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(3), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(1), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(3), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(1), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(3), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(1), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: true, hasError: false, hasTexture: false, paths: Array(2), …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_nightmap.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_nightmap.jpg?t=1757594669884', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_normal.jpg {width: 2048, height: 1024, src: 'http://localhost:5173/textures/2k_moon_normal.jpg?t=1757594669885', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_specular_map.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_specular_map.jpg?t=1757594669884', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_displacement.jpg {width: 2048, height: 1024, src: 'http://localhost:5173/textures/2k_moon_displacement.jpg?t=1757594669885', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_daymap.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_daymap.jpg?t=1757594669884', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_nightmap.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_nightmap.jpg?t=1757594669885', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_normal_map.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_normal_map.jpg?t=1757594669884', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_daymap.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_daymap.jpg?t=1757594669885', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_specular_map.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_specular_map.jpg?t=1757594669885', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(3), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(1), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '✅', earthSpecular: '✅', earthClouds: '❌', …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(3), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '❌', earthSpecular: '✅', earthClouds: '❌', …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_displacement.jpg {width: 2048, height: 1024, src: 'http://localhost:5173/textures/2k_moon_displacement.jpg?t=1757594669886', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_normal.jpg {width: 2048, height: 1024, src: 'http://localhost:5173/textures/2k_moon_normal.jpg?t=1757594669886', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_normal_map.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_normal_map.jpg?t=1757594669885', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(1), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '✅', earthSpecular: '✅', earthClouds: '❌', …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_daymap.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_daymap.jpg?t=1757594669887', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_nightmap.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_nightmap.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(3), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '❌', earthSpecular: '❌', earthClouds: '❌', …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_moon.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_moon.jpg?t=1757594669885', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '✅', earthSpecular: '✅', earthClouds: '❌', …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_specular_map.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_specular_map.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '❌', earthSpecular: '✅', earthClouds: '❌', …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_displacement.jpg {width: 2048, height: 1024, src: 'http://localhost:5173/textures/2k_moon_displacement.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_stars_milky_way.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_stars_milky_way.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/2k_moon_normal.jpg {width: 2048, height: 1024, src: 'http://localhost:5173/textures/2k_moon_normal.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_normal_map.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_normal_map.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
SimpleTest.tsx:35 [MilkyWay] texture loaded: {image: 'http://localhost:5173/textures/8k_stars_milky_way.jpg?t=1757594669888', repeat: Array(2), yawDeg: -61, pitchDeg: 0, sphereRadius: 120, …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(1), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(4), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '✅', earthSpecular: '✅', earthClouds: '❌', …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_moon.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_moon.jpg?t=1757594669886', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_earth_clouds.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_earth_clouds.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:96 [TextureLoader] ✅ 纹理加载成功: /textures/8k_moon.jpg {width: 8192, height: 4096, src: 'http://localhost:5173/textures/8k_moon.jpg?t=1757594669888', colorSpace: '', wrapS: 1001, …}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
Clouds.tsx:54 [Clouds] 创建云层材质 {texture: true, textureSize: {…}, lightDir: Array(3), lightColor: 'fff8f1', strength: 0.8, …}
Clouds.tsx:138 [Clouds] ✅ 云层材质创建成功
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '✅', earthSpecular: '✅', earthClouds: '❌', …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:142 [TextureLoader] 纹理状态: {enabled: true, loading: false, hasError: false, hasTexture: true, paths: Array(2), …}
textureLoader.ts:252 [TextureLoader] 纹理加载状态: {earthMap: '✅', earthNight: '✅', earthNormal: '✅', earthSpecular: '✅', earthClouds: '✅', …}
content.js:1967 Preloaded 316 local cards to cache
content.js:2110 Starting periodic update mechanism...
content.js:2122 Periodic update started with 180s interval
content.js:1972 Force preloading more content...
content.js:1995 Force preloading quotes: 9 cards needed
content.js:1995 Force preloading facts: 8 cards needed
content.js:1995 Force preloading advice: 8 cards needed
content.js:1995 Force preloading catfacts: 8 cards needed
content.js:1995 Force preloading cocktails: 8 cards needed
content.js:1995 Force preloading datafacts: 25 cards needed
runSolarFullTests()
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=-75 {alt: '14.5', exp: '15.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=-60 {alt: '29.5', exp: '30.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=-45 {alt: '44.4', exp: '45.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=-30 {alt: '59.4', exp: '60.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=-15 {alt: '74.4', exp: '75.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=0 {alt: '88.2', exp: '90.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=15 {alt: '75.4', exp: '75.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=30 {alt: '60.5', exp: '60.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=45 {alt: '45.5', exp: '45.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=60 {alt: '30.6', exp: '30.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-03-21T12:00 (lon:0) -> UTC: 2024-03-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt Equinox lat=75 {alt: '15.6', exp: '15.0'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=-75 {alt: '-7.8', exp: '-8.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=-60 {alt: '6.7', exp: '6.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=-45 {alt: '21.6', exp: '21.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=-30 {alt: '36.6', exp: '36.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=-15 {alt: '51.6', exp: '51.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=0 {alt: '66.6', exp: '66.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=15 {alt: '81.6', exp: '81.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=30 {alt: '83.4', exp: '83.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=45 {alt: '68.4', exp: '68.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=60 {alt: '53.4', exp: '53.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T12:00 (lon:0) -> UTC: 2024-06-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt SummerSolstice lat=75 {alt: '38.5', exp: '38.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=-75 {alt: '38.5', exp: '38.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=-60 {alt: '53.4', exp: '53.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=-45 {alt: '68.4', exp: '68.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=-30 {alt: '83.4', exp: '83.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=-15 {alt: '81.6', exp: '81.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=0 {alt: '66.6', exp: '66.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=15 {alt: '51.6', exp: '51.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=30 {alt: '36.6', exp: '36.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=45 {alt: '21.6', exp: '21.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=60 {alt: '6.7', exp: '6.6'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T12:00 (lon:0) -> UTC: 2024-12-21T12:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间12:0 对应本地时间12:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ NoonAlt WinterSolstice lat=75 {alt: '-7.8', exp: '-8.4'}
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ EquinoxEquator Az East/West {az06: '89.6', az18: '270.6'}
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ ArcticCircle MidnightSun {alts: Array(4)}
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ AntarcticCircle PolarNight {alts: Array(4)}
ephemeris.ts:449 [toUTCFromLocal] 2024-06-21T00:00 (lon:0) -> UTC: 2024-06-21T00:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间0:0 对应本地时间0:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ LocalMidnight lon=0 lat=-30 {alt: '-83.4'}
ephemeris.ts:449 [toUTCFromLocal] 2024-12-21T00:00 (lon:0) -> UTC: 2024-12-21T00:00:00.000Z (offset: 0h)
ephemeris.ts:450 [toUTCFromLocal] 注意：UTC时间0:0 对应本地时间0:0
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ LocalMidnight lon=0 lat=+30 {alt: '-83.4'}
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ SanityGrid AltAzRanges {count: 60}
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
constants.ts:50 ✅ 天文常数验证通过
fullLightingAutoTest.ts:15 [FullTest] ✅ Vector->AltAz consistency (4) [{…}, {…}, {…}, {…}]
fullLightingAutoTest.ts:130 [FullTest] Summary 40/40 passed
fullLightingAutoTest.ts:131 [FullTest:JSON] {
  "when": "2025-09-11T12:44:36.019Z",
  "passed": 40,
  "total": 40,
  "results": [
    {
      "name": "NoonAlt Equinox lat=-75",
      "ok": true,
      "info": {
        "alt": "14.5",
        "exp": "15.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=-60",
      "ok": true,
      "info": {
        "alt": "29.5",
        "exp": "30.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=-45",
      "ok": true,
      "info": {
        "alt": "44.4",
        "exp": "45.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=-30",
      "ok": true,
      "info": {
        "alt": "59.4",
        "exp": "60.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=-15",
      "ok": true,
      "info": {
        "alt": "74.4",
        "exp": "75.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=0",
      "ok": true,
      "info": {
        "alt": "88.2",
        "exp": "90.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=15",
      "ok": true,
      "info": {
        "alt": "75.4",
        "exp": "75.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=30",
      "ok": true,
      "info": {
        "alt": "60.5",
        "exp": "60.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=45",
      "ok": true,
      "info": {
        "alt": "45.5",
        "exp": "45.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=60",
      "ok": true,
      "info": {
        "alt": "30.6",
        "exp": "30.0"
      }
    },
    {
      "name": "NoonAlt Equinox lat=75",
      "ok": true,
      "info": {
        "alt": "15.6",
        "exp": "15.0"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=-75",
      "ok": true,
      "info": {
        "alt": "-7.8",
        "exp": "-8.4"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=-60",
      "ok": true,
      "info": {
        "alt": "6.7",
        "exp": "6.6"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=-45",
      "ok": true,
      "info": {
        "alt": "21.6",
        "exp": "21.6"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=-30",
      "ok": true,
      "info": {
        "alt": "36.6",
        "exp": "36.6"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=-15",
      "ok": true,
      "info": {
        "alt": "51.6",
        "exp": "51.6"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=0",
      "ok": true,
      "info": {
        "alt": "66.6",
        "exp": "66.6"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=15",
      "ok": true,
      "info": {
        "alt": "81.6",
        "exp": "81.6"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=30",
      "ok": true,
      "info": {
        "alt": "83.4",
        "exp": "83.4"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=45",
      "ok": true,
      "info": {
        "alt": "68.4",
        "exp": "68.4"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=60",
      "ok": true,
      "info": {
        "alt": "53.4",
        "exp": "53.4"
      }
    },
    {
      "name": "NoonAlt SummerSolstice lat=75",
      "ok": true,
      "info": {
        "alt": "38.5",
        "exp": "38.4"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=-75",
      "ok": true,
      "info": {
        "alt": "38.5",
        "exp": "38.4"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=-60",
      "ok": true,
      "info": {
        "alt": "53.4",
        "exp": "53.4"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=-45",
      "ok": true,
      "info": {
        "alt": "68.4",
        "exp": "68.4"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=-30",
      "ok": true,
      "info": {
        "alt": "83.4",
        "exp": "83.4"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=-15",
      "ok": true,
      "info": {
        "alt": "81.6",
        "exp": "81.6"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=0",
      "ok": true,
      "info": {
        "alt": "66.6",
        "exp": "66.6"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=15",
      "ok": true,
      "info": {
        "alt": "51.6",
        "exp": "51.6"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=30",
      "ok": true,
      "info": {
        "alt": "36.6",
        "exp": "36.6"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=45",
      "ok": true,
      "info": {
        "alt": "21.6",
        "exp": "21.6"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=60",
      "ok": true,
      "info": {
        "alt": "6.7",
        "exp": "6.6"
      }
    },
    {
      "name": "NoonAlt WinterSolstice lat=75",
      "ok": true,
      "info": {
        "alt": "-7.8",
        "exp": "-8.4"
      }
    },
    {
      "name": "EquinoxEquator Az East/West",
      "ok": true,
      "info": {
        "az06": "89.6",
        "az18": "270.6"
      }
    },
    {
      "name": "ArcticCircle MidnightSun",
      "ok": true,
      "info": {
        "alts": [
          "0.5",
          "21.3",
          "46.9",
          "21.6"
        ]
      }
    },
    {
      "name": "AntarcticCircle PolarNight",
      "ok": true,
      "info": {
        "alts": [
          "-46.5",
          "-21.1",
          "0.4",
          "-20.7"
        ]
      }
    },
    {
      "name": "LocalMidnight lon=0 lat=-30",
      "ok": true,
      "info": {
        "alt": "-83.4"
      }
    },
    {
      "name": "LocalMidnight lon=0 lat=+30",
      "ok": true,
      "info": {
        "alt": "-83.4"
      }
    },
    {
      "name": "SanityGrid AltAzRanges",
      "ok": true,
      "info": {
        "count": 60
      }
    },
    {
      "name": "Vector->AltAz consistency",
      "ok": true,
      "info": [
        {
          "t": "2024-03-21T06:00:00Z",
          "lat": 0,
          "lon": 0,
          "alt_ephem": "-1.13",
          "alt_vec": "-1.13",
          "altDiff": "0.00",
          "az_ephem": "89.56",
          "az_vec": "89.56",
          "azDiff": "0.00",
          "nearZenith": false
        },
        {
          "t": "2024-03-21T18:00:00Z",
          "lat": 0,
          "lon": 0,
          "alt_ephem": "2.03",
          "alt_vec": "2.03",
          "altDiff": "0.00",
          "az_ephem": "270.64",
          "az_vec": "270.64",
          "azDiff": "0.00",
          "nearZenith": false
        },
        {
          "t": "2024-06-21T12:00:00Z",
          "lat": 45,
          "lon": 0,
          "alt_ephem": "68.44",
          "alt_vec": "68.44",
          "altDiff": "0.00",
          "az_ephem": "178.80",
          "az_vec": "178.80",
          "azDiff": "0.00",
          "nearZenith": false
        },
        {
          "t": "2024-12-21T12:00:00Z",
          "lat": -45,
          "lon": 0,
          "alt_ephem": "68.44",
          "alt_vec": "68.44",
          "altDiff": "0.00",
          "az_ephem": "358.93",
          "az_vec": "358.93",
          "azDiff": "0.00",
          "nearZenith": false
        }
      ]
    }
  ]
}
Promise {<pending>}
content.js:1995 Force preloading gathas: 15 cards needed
SimpleTest.tsx:1956 [NoTiltTest] ✅ PASS {when: '2025-09-11T12:44:37.794Z', ok: true, maxTiltDeg: 0, samples: 180}
SimpleTest.tsx:1957 [NoTiltTest:JSON] {
  "when": "2025-09-11T12:44:37.794Z",
  "ok": true,
  "maxTiltDeg": 0,
  "samples": 180
}
SimpleTest.tsx:2137 [FixedSunAzTest] ❌ FAIL {when: '2025-09-11T12:44:38.395Z', ok: false, yaw06: NaN, yaw18: NaN, diff: NaN}
console.error @ chunk-F5XGK2DS.js?v=d905a87e:17705
window.runFixedSunAzimuthLockTest @ SimpleTest.tsx:2137
await in window.runFixedSunAzimuthLockTest
window.runSolarFullTests @ main.tsx:75
await in window.runSolarFullTests
(anonymous) @ VM17530:1
SimpleTest.tsx:2138 [FixedSunAzTest:JSON] {
  "when": "2025-09-11T12:44:38.395Z",
  "ok": false,
  "yaw06": null,
  "yaw18": null,
  "diff": null
}
SimpleTest.tsx:2164 [SeasonalTest] failed: ReferenceError: composition is not defined
    at getComp (SimpleTest.tsx:2148:71)
    at window.runSeasonalAutoTest (SimpleTest.tsx:2149:22)
    at window.runSolarFullTests (main.tsx:77:57)
console.error @ chunk-F5XGK2DS.js?v=d905a87e:17705
window.runSeasonalAutoTest @ SimpleTest.tsx:2164
window.runSolarFullTests @ main.tsx:77
await in window.runSolarFullTests
(anonymous) @ VM17530:1
moonPhaseAutoTests.ts:27 [MoonPhaseTest] ✅ 2024-03 NewMoon {date: '2024-03-10T12:00:00.000Z', frac: 0.000576768351429946, angleDeg: 177.24770427466382}
moonPhaseAutoTests.ts:27 [MoonPhaseTest] ✅ 2024-03 FullMoon {date: '2024-03-25T12:00:00.000Z', frac: 0.9995736135059429, angleDeg: 2.366383975202375}
moonPhaseAutoTests.ts:27 [MoonPhaseTest] ✅ 2024-03 QuarterNear90deg (4) [{…}, {…}, {…}, {…}]
moonPhaseAutoTests.ts:27 [MoonPhaseTest] ✅ 2024-06 NewMoon {date: '2024-06-06T12:00:00.000Z', frac: 0.0015457393076158676, angleDeg: 175.4935692529805}
moonPhaseAutoTests.ts:27 [MoonPhaseTest] ✅ 2024-06 FullMoon {date: '2024-06-22T12:00:00.000Z', frac: 0.9956262949692223, angleDeg: 7.583932543269521}
moonPhaseAutoTests.ts:27 [MoonPhaseTest] ✅ 2024-06 QuarterNear90deg (4) [{…}, {…}, {…}, {…}]
moonPhaseAutoTests.ts:47 [MoonPhaseTest:JSON] {
  "when": "2025-09-11T12:44:38.398Z",
  "passed": 6,
  "total": 6,
  "results": [
    {
      "name": "2024-03 NewMoon",
      "ok": true,
      "info": {
        "date": "2024-03-10T12:00:00.000Z",
        "frac": 0.000576768351429946,
        "angleDeg": 177.24770427466382
      }
    },
    {
      "name": "2024-03 FullMoon",
      "ok": true,
      "info": {
        "date": "2024-03-25T12:00:00.000Z",
        "frac": 0.9995736135059429,
        "angleDeg": 2.366383975202375
      }
    },
    {
      "name": "2024-03 QuarterNear90deg",
      "ok": true,
      "info": [
        {
          "date": "2024-03-03T12:00:00.000Z",
          "frac": 0.5160255707087804,
          "angleDeg": 88.16329030875704
        },
        {
          "date": "2024-03-04T12:00:00.000Z",
          "frac": 0.41112077459624025,
          "angleDeg": 100.2392230444064
        },
        {
          "date": "2024-03-16T12:00:00.000Z",
          "frac": 0.4310675413780855,
          "angleDeg": 97.92431698719768
        },
        {
          "date": "2024-03-17T12:00:00.000Z",
          "frac": 0.5347226827790199,
          "angleDeg": 86.01786851877634
        }
      ]
    },
    {
      "name": "2024-06 NewMoon",
      "ok": true,
      "info": {
        "date": "2024-06-06T12:00:00.000Z",
        "frac": 0.0015457393076158676,
        "angleDeg": 175.4935692529805
      }
    },
    {
      "name": "2024-06 FullMoon",
      "ok": true,
      "info": {
        "date": "2024-06-22T12:00:00.000Z",
        "frac": 0.9956262949692223,
        "angleDeg": 7.583932543269521
      }
    },
    {
      "name": "2024-06 QuarterNear90deg",
      "ok": true,
      "info": [
        {
          "date": "2024-06-13T12:00:00.000Z",
          "frac": 0.43305237331101926,
          "angleDeg": 97.69474260529951
        },
        {
          "date": "2024-06-14T12:00:00.000Z",
          "frac": 0.5276763947367249,
          "angleDeg": 86.82689700842018
        },
        {
          "date": "2024-06-28T12:00:00.000Z",
          "frac": 0.5485520784129344,
          "angleDeg": 84.42756084062134
        },
        {
          "date": "2024-06-29T12:00:00.000Z",
          "frac": 0.4340103161391369,
          "angleDeg": 97.58398741167629
        }
      ]
    }
  ]
}
main.tsx:80 [FullTest+NoTilt:OneClick] JSON below. Copy from console if needed.
main.tsx:81 {
  "when": "2025-09-11T12:44:38.398Z",
  "summary": {
    "when": "2025-09-11T12:44:36.019Z",
    "passed": 40,
    "total": 40,
    "results": [
      {
        "name": "NoonAlt Equinox lat=-75",
        "ok": true,
        "info": {
          "alt": "14.5",
          "exp": "15.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=-60",
        "ok": true,
        "info": {
          "alt": "29.5",
          "exp": "30.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=-45",
        "ok": true,
        "info": {
          "alt": "44.4",
          "exp": "45.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=-30",
        "ok": true,
        "info": {
          "alt": "59.4",
          "exp": "60.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=-15",
        "ok": true,
        "info": {
          "alt": "74.4",
          "exp": "75.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=0",
        "ok": true,
        "info": {
          "alt": "88.2",
          "exp": "90.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=15",
        "ok": true,
        "info": {
          "alt": "75.4",
          "exp": "75.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=30",
        "ok": true,
        "info": {
          "alt": "60.5",
          "exp": "60.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=45",
        "ok": true,
        "info": {
          "alt": "45.5",
          "exp": "45.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=60",
        "ok": true,
        "info": {
          "alt": "30.6",
          "exp": "30.0"
        }
      },
      {
        "name": "NoonAlt Equinox lat=75",
        "ok": true,
        "info": {
          "alt": "15.6",
          "exp": "15.0"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=-75",
        "ok": true,
        "info": {
          "alt": "-7.8",
          "exp": "-8.4"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=-60",
        "ok": true,
        "info": {
          "alt": "6.7",
          "exp": "6.6"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=-45",
        "ok": true,
        "info": {
          "alt": "21.6",
          "exp": "21.6"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=-30",
        "ok": true,
        "info": {
          "alt": "36.6",
          "exp": "36.6"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=-15",
        "ok": true,
        "info": {
          "alt": "51.6",
          "exp": "51.6"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=0",
        "ok": true,
        "info": {
          "alt": "66.6",
          "exp": "66.6"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=15",
        "ok": true,
        "info": {
          "alt": "81.6",
          "exp": "81.6"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=30",
        "ok": true,
        "info": {
          "alt": "83.4",
          "exp": "83.4"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=45",
        "ok": true,
        "info": {
          "alt": "68.4",
          "exp": "68.4"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=60",
        "ok": true,
        "info": {
          "alt": "53.4",
          "exp": "53.4"
        }
      },
      {
        "name": "NoonAlt SummerSolstice lat=75",
        "ok": true,
        "info": {
          "alt": "38.5",
          "exp": "38.4"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=-75",
        "ok": true,
        "info": {
          "alt": "38.5",
          "exp": "38.4"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=-60",
        "ok": true,
        "info": {
          "alt": "53.4",
          "exp": "53.4"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=-45",
        "ok": true,
        "info": {
          "alt": "68.4",
          "exp": "68.4"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=-30",
        "ok": true,
        "info": {
          "alt": "83.4",
          "exp": "83.4"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=-15",
        "ok": true,
        "info": {
          "alt": "81.6",
          "exp": "81.6"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=0",
        "ok": true,
        "info": {
          "alt": "66.6",
          "exp": "66.6"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=15",
        "ok": true,
        "info": {
          "alt": "51.6",
          "exp": "51.6"
        }
      },
      {
        "name": "NoonAlt WinterSolstice lat=30",
        "ok": true,
        "info": {
          "alt": "36.6",
          "exp": "36.6"
        }
      },
      {
        "name": "NoonA
SimpleTest.tsx:685 [EarthRotation] UTC时间: 12:44, 计算自转角度: 191.0°
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: true, useMilkyWay: true}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
textureLoader.ts:229 [TextureLoader] 开始加载纹理，配置: {useTextures: true, useClouds: false, useMilkyWay: false}
content.js:2024 Force preload completed. Total cache size: 371
